<div class="board-toolbar flex column align-items-end">
  <div class="flex g-025 m-y-05">
    <button *ngFor="let layout of getLayouts()" (click)="setLayout(layout)" 
    [class.active]="board.layout === layout"
    [position]="'bottom'" [tooltip]="layout + ' layout'">{{getLayoutSymbol(layout)}}</button>
  </div>

  <search class="m-b-1"></search>
  <div class="flex justify-content-end">
    <label class="translucent">Board:&nbsp;</label>
    <div contenteditable="true" 
    [(ngModel)]="board.textContent"
    [board]="board"
    (ngModelChange)="debounceBoardUpdate()"
    (onTagsChange)="updateBoardTags($event)"

    class="board-label"></div>
    <prioritizer [container]="board" class="m-x-025"> </prioritizer>
  </div>
  <div>
    {{boardService.getTodoCount$(this.board) | async}} todos
  </div>
  <div class="translucent">
    of {{boardService.getTasksCount$(this.board) | async}} tasks
  </div>
  <button class="m-t-05"(click)="addLane()" >Add lane</button>
</div>
<ng-container *ngIf="board.layout === 'absolute'; else flex">
  <ng-container *ngFor="let lane of lanes$ | async;trackBy: trackBy">
    <lane 
    class="absolute"
    [lane]="lane" 
    [board]="this.board" 
    [draggableDir]="lane" 
    [containerEl]="el.nativeElement"
    [layout]="board.layout"
    ></lane>
  </ng-container>  
</ng-container>
<ng-template #flex>
  <div class="flex column flex-child g-1" *ngFor="let colIndex of getColumnIndexes(board.layout)">
    <ng-container *ngFor="let lane of getLanesByColumn$(colIndex) | async;trackBy: trackBy">
      <lane 
      class="static"
      [displayedInFixedLayout]="true"
      [lane]="lane" 
      [board]="this.board" 
      [draggableDir]="lane" 
      [containerEl]="el.nativeElement"
      [layout]="board.layout"
      ></lane>
    </ng-container>  
  </div>
</ng-template>




