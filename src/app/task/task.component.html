<div class="task-wrapper g-025" 
data-consider-for-overlapping-checks="true"
[class.editor-active]="this.editorActive"
[class.selected]="this.selected"
[class]="this.task.status"
(click)="clickTask($event)" 

>
    <div *ngIf="!this.static"class="drag-handle big" drag-on-this="true">â‹®</div>
    <div *ngIf="this.task.status === 'todo'" class="status big" (click)="toggleTaskStatus()">â˜</div>
    <div *ngIf="this.task.status === 'completed'" class="status big" (click)="toggleTaskStatus()">â˜‘</div>

    <div class="flex wrap w-100">
        <div class="editor-wrapper grow">    
            <div #editor [container]="this.task" [contenteditableHtml]="true" contenteditable="true" [(contenteditableModel)]="task.textContent"></div>
        </div>
        <div class="date-wrapper translucent small">
            created {{this.task.creationDate | date: 'dd-MM-yy hh:mm a'}}
        </div>
        <div class="task-toolbar">
            <span *ngIf="!static && task.status === 'completed'" (click)="archiveTask()" class="archive pointer">ğŸ–¿</span>
        </div>
    </div>
</div>
<div *ngIf="showChildren" class="task-children-wrapper g-025 ">
    <div class="flex" *ngFor="let child of this.task.children; let last = last">
        <div class="line">
            <div class="border-angle"></div>
            <div *ngIf="!last" class="border-line"></div>
        </div>
        <task [static]="static" [parent]="this.task" [task]="child"  [board]="this.board" [lane]="this.lane" *ngIf="!child.archived"></task>
    </div>
    
</div>    
